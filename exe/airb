#!/usr/bin/env ruby
# frozen_string_literal: true

# --- Keep this CLI independent of any project's Bundler context ----------------
# If someone runs `airb` inside a Bundler-managed project, remove Bundler hooks
# so we resolve *this gem’s* dependencies, not the app’s Gemfile.
ENV.delete('BUNDLE_GEMFILE')
ENV.delete('BUNDLE_BIN_PATH')
if (rubyopt = ENV['RUBYOPT'])
  ENV['RUBYOPT'] = rubyopt.split.reject { |x| x.include?('bundler/setup') }.join(' ')
end
ENV.delete('RUBYGEMS_GEMDEPS')  # avoid implicit Gemfile activation

require 'airb'
Airb::CLI.start
